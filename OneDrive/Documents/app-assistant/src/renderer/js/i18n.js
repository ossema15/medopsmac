import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const resources = {
  fr: {
    translation: {
      // App
      appName: 'Cabneo Assistant',
      appSubtitle: 'Gestion de Cabinet Médical',
      
      // Navigation
      dashboard: 'Tableau de Bord',
      patients: 'Patients',
      archives: 'Archives',
      queue: 'File d\'Attente',
      appointments: 'Rendez-vous',
      settings: 'Paramètres',
      logout: 'Déconnexion',
      
      // Login
      login: 'Connexion',
      username: 'Nom d\'utilisateur',
      password: 'Mot de passe',
      loginButton: 'Se connecter',
      loginSuccess: 'Connexion réussie',
      loginError: 'Identifiants incorrects',
      logoutSuccess: 'Déconnexion réussie',
      
      // Dashboard
      todayPatients: 'Patients Aujourd\'hui',
      weekPatients: 'Patients Cette Semaine',
      waitingPatients: 'En Attente',
      withDoctor: 'Avec le Médecin',
      
      // Patient Panel
      newPatient: 'Nouveau Patient',
      patientName: 'Nom du Patient',
      phone: 'Téléphone',
      urgentContact: 'Contact d\'Urgence',
      convention: 'Convention',
      insurances: 'Assurances',
      consultationPrice: 'Prix de Consultation',
      reasonForVisit: 'Raison de la Visite',
      medicalHistory: 'Antécédents Médicaux',
      dateOfBirth: 'Date de Naissance',
      addFiles: 'Ajouter des Fichiers',
      manageFiles: 'Gérer les Fichiers',
      savePatient: 'Enregistrer le Patient',
      patientSaved: 'Patient enregistré avec succès',
      
      // Queue
      patientQueue: 'File d\'Attente des Patients',
      status: 'Statut',
      actions: 'Actions',
      sendToDoctor: 'Envoyer au Médecin',
      cancelPatient: 'Annuler',
      waiting: 'En Attente',
      withDoctor: 'Avec le Médecin',
      canceled: 'Annulé',
      
      // Appointments
      scheduleAppointment: 'Programmer un Rendez-vous',
      appointmentDate: 'Date du Rendez-vous',
      appointmentTime: 'Heure du Rendez-vous',
      patientName: 'Nom du Patient',
      reason: 'Raison',
      bookAppointment: 'Prendre Rendez-vous',
      appointmentBooked: 'Rendez-vous programmé',
      
      // Settings
      communicationMode: 'Mode de Communication',
      wifi: 'WiFi',
      doctorIP: 'IP du Médecin',
      backupPath: 'Chemin de Sauvegarde',
      language: 'Langue',
      french: 'Français',
      english: 'Anglais',
      saveSettings: 'Enregistrer les Paramètres',
      settingsSaved: 'Paramètres enregistrés',
      // License
      license: 'Licence',
      licenceKey: 'Clé de licence',
      machineId: 'ID',
      enterLicenceKey: 'Saisir la clé de licence',
      enterMachineId: 'Saisir l\'ID',
      
      // Messages
      messages: 'Messages',
      sendMessage: 'Envoyer un Message',
      newMessage: 'Nouveau message reçu',
      needsAppointment: 'a besoin d\'un prochain RDV SVP',
      
      // Notifications
      success: 'Succès',
      error: 'Erreur',
      warning: 'Attention',
      info: 'Information',
      
      // Common
      save: 'Enregistrer',
      cancel: 'Annuler',
      delete: 'Supprimer',
      edit: 'Modifier',
      close: 'Fermer',
      loading: 'Chargement...',
      noData: 'Aucune donnée',
      confirm: 'Confirmer',
      yes: 'Oui',
      no: 'Non',
      copy: 'Copier',
      notAvailable: 'Non disponible',
      
      // Time
      today: 'Aujourd\'hui',
      tomorrow: 'Demain',
      thisWeek: 'Cette Semaine',
      nextWeek: 'Semaine Prochaine',
      
      // File Management
      selectFiles: 'Sélectionner des Fichiers',
      filesSelected: 'fichiers sélectionnés',
      uploadFiles: 'Télécharger des Fichiers',
      removeFile: 'Supprimer le fichier',
      
      // Backup
      backup: 'Sauvegarde',
      createBackup: 'Créer une Sauvegarde',
      selectBackupDrive: 'Sélectionner le Disque de Sauvegarde',
      backupCreated: 'Sauvegarde créée avec succès',
      backupError: 'Erreur lors de la sauvegarde',
      reminder: 'Rappel'
    }
  },
  en: {
    translation: {
      // App
      appName: 'Cabneo Assistant',
      appSubtitle: 'Medical Practice Management',
      
      // Navigation
      dashboard: 'Dashboard',
      patients: 'Patients',
      archives: 'Archives',
      queue: 'Queue',
      appointments: 'Appointments',
      settings: 'Settings',
      logout: 'Logout',
      
      // Login
      login: 'Login',
      username: 'Username',
      password: 'Password',
      loginButton: 'Login',
      loginSuccess: 'Login successful',
      loginError: 'Invalid credentials',
      logoutSuccess: 'Logout successful',
      
      // Dashboard
      todayPatients: 'Today\'s Patients',
      weekPatients: 'This Week\'s Patients',
      waitingPatients: 'Waiting',
      withDoctor: 'With Doctor',
      
      // Patient Panel
      newPatient: 'New Patient',
      patientName: 'Patient Name',
      phone: 'Phone',
      urgentContact: 'Urgent Contact',
      convention: 'Convention',
      insurances: 'Insurances',
      consultationPrice: 'Consultation Price',
      reasonForVisit: 'Reason for Visit',
      medicalHistory: 'Medical History',
      dateOfBirth: 'Date of Birth',
      addFiles: 'Add Files',
      manageFiles: 'Manage Files',
      savePatient: 'Save Patient',
      patientSaved: 'Patient saved successfully',
      
      // Queue
      patientQueue: 'Patient Queue',
      status: 'Status',
      actions: 'Actions',
      sendToDoctor: 'Send to Doctor',
      cancelPatient: 'Cancel',
      waiting: 'Waiting',
      withDoctor: 'With Doctor',
      canceled: 'Canceled',
      
      // Appointments
      scheduleAppointment: 'Schedule Appointment',
      appointmentDate: 'Appointment Date',
      appointmentTime: 'Appointment Time',
      patientName: 'Patient Name',
      reason: 'Reason',
      bookAppointment: 'Book Appointment',
      appointmentBooked: 'Appointment booked',
      
      // Settings
      communicationMode: 'Communication Mode',
      wifi: 'WiFi',
      doctorIP: 'Doctor IP',
      backupPath: 'Backup Path',
      language: 'Language',
      french: 'French',
      english: 'English',
      saveSettings: 'Save Settings',
      settingsSaved: 'Settings saved',
      // License
      license: 'License',
      licenceKey: 'Licence Key',
      machineId: 'ID',
      enterLicenceKey: 'Enter licence key',
      enterMachineId: 'Enter ID',
      
      // Messages
      messages: 'Messages',
      sendMessage: 'Send Message',
      newMessage: 'New message received',
      needsAppointment: 'needs a next appointment please',
      
      // Notifications
      success: 'Success',
      error: 'Error',
      warning: 'Warning',
      info: 'Information',
      
      // Common
      save: 'Save',
      cancel: 'Cancel',
      delete: 'Delete',
      edit: 'Edit',
      close: 'Close',
      loading: 'Loading...',
      noData: 'No data',
      confirm: 'Confirm',
      yes: 'Yes',
      no: 'No',
      copy: 'Copy',
      notAvailable: 'Not available',
      
      // Time
      today: 'Today',
      tomorrow: 'Tomorrow',
      thisWeek: 'This Week',
      nextWeek: 'Next Week',
      
      // File Management
      selectFiles: 'Select Files',
      filesSelected: 'files selected',
      uploadFiles: 'Upload Files',
      removeFile: 'Remove file',
      
      // Backup
      backup: 'Backup',
      createBackup: 'Create Backup',
      selectBackupDrive: 'Select Backup Drive',
      backupCreated: 'Backup created successfully',
      backupError: 'Backup error',
      reminder: 'Reminder'
    }
  },
  // Arabic (generic)
  ar: {
    translation: {
      appName: 'مساعد كابنيو',
      appSubtitle: 'إدارة العيادة الطبية',
      dashboard: 'لوحة التحكم',
      patients: 'المرضى',
      archives: 'الأرشيف',
      queue: 'قائمة الانتظار',
      appointments: 'المواعيد',
      settings: 'الإعدادات',
      logout: 'تسجيل الخروج',
      login: 'تسجيل الدخول',
      username: 'اسم المستخدم',
      password: 'كلمة المرور',
      loginButton: 'دخول',
      loginSuccess: 'تم تسجيل الدخول بنجاح',
      loginError: 'بيانات اعتماد غير صحيحة',
      logoutSuccess: 'تم تسجيل الخروج بنجاح',
      todayPatients: 'مرضى اليوم',
      weekPatients: 'مرضى هذا الأسبوع',
      waitingPatients: 'في الانتظار',
      withDoctor: 'عند الطبيب',
      newPatient: 'مريض جديد',
      patientName: 'اسم المريض',
      phone: 'الهاتف',
      urgentContact: 'جهة اتصال طارئة',
      convention: 'اتفاقية',
      insurances: 'تأمينات',
      consultationPrice: 'سعر الاستشارة',
      reasonForVisit: 'سبب الزيارة',
      medicalHistory: 'التاريخ الطبي',
      dateOfBirth: 'تاريخ الميلاد',
      addFiles: 'إضافة ملفات',
      manageFiles: 'إدارة الملفات',
      savePatient: 'حفظ المريض',
      patientSaved: 'تم حفظ المريض بنجاح',
      patientQueue: 'قائمة انتظار المرضى',
      status: 'الحالة',
      actions: 'إجراءات',
      sendToDoctor: 'إرسال للطبيب',
      cancelPatient: 'إلغاء',
      waiting: 'في الانتظار',
      canceled: 'ملغى',
      scheduleAppointment: 'جدولة موعد',
      appointmentDate: 'تاريخ الموعد',
      appointmentTime: 'وقت الموعد',
      reason: 'السبب',
      bookAppointment: 'حجز الموعد',
      appointmentBooked: 'تم حجز الموعد',
      communicationMode: 'وضع الاتصال',
      wifi: 'واي فاي',
      doctorIP: 'عنوان طبيب',
      backupPath: 'مسار النسخ الاحتياطي',
      language: 'اللغة',
      french: 'الفرنسية',
      english: 'الإنجليزية',
      saveSettings: 'حفظ الإعدادات',
      settingsSaved: 'تم حفظ الإعدادات',
      license: 'الترخيص',
      licenceKey: 'مفتاح الترخيص',
      machineId: 'المعرف',
      enterLicenceKey: 'أدخل مفتاح الترخيص',
      enterMachineId: 'أدخل المعرف',
      messages: 'الرسائل',
      sendMessage: 'إرسال رسالة',
      newMessage: 'تم استلام رسالة جديدة',
      needsAppointment: 'بحاجة إلى موعد قادم من فضلك',
      success: 'نجاح',
      error: 'خطأ',
      warning: 'تحذير',
      info: 'معلومة',
      save: 'حفظ',
      cancel: 'إلغاء',
      delete: 'حذف',
      edit: 'تعديل',
      close: 'إغلاق',
      loading: 'جارٍ التحميل...',
      noData: 'لا توجد بيانات',
      confirm: 'تأكيد',
      yes: 'نعم',
      no: 'لا',
      copy: 'نسخ',
      notAvailable: 'غير متاح',
      today: 'اليوم',
      tomorrow: 'غدًا',
      thisWeek: 'هذا الأسبوع',
      nextWeek: 'الأسبوع القادم',
      selectFiles: 'اختر ملفات',
      filesSelected: 'ملفات محددة',
      uploadFiles: 'رفع الملفات',
      removeFile: 'حذف الملف',
      backup: 'نسخة احتياطية',
      createBackup: 'إنشاء نسخة احتياطية',
      selectBackupDrive: 'اختر قرص النسخ الاحتياطي',
      backupCreated: 'تم إنشاء النسخة الاحتياطية',
      backupError: 'خطأ في النسخ الاحتياطي',
      reminder: 'تذكير'
    }
  },
  // Regional Arabic variants mapping to same translations initially
  'ar-EG': { translation: {} },
  'ar-MR': { translation: {} },
  // Spanish
  es: {
    translation: {
      appName: 'Cabneo Assistant',
      appSubtitle: 'Gestión de Consultorio Médico',
      dashboard: 'Panel',
      patients: 'Pacientes',
      archives: 'Archivos',
      queue: 'Cola',
      appointments: 'Citas',
      settings: 'Ajustes',
      logout: 'Salir',
      login: 'Iniciar sesión',
      username: 'Usuario',
      password: 'Contraseña',
      loginButton: 'Entrar',
      loginSuccess: 'Inicio de sesión exitoso',
      loginError: 'Credenciales inválidas',
      logoutSuccess: 'Cierre de sesión exitoso',
      todayPatients: 'Pacientes de hoy',
      weekPatients: 'Pacientes de la semana',
      waitingPatients: 'En espera',
      withDoctor: 'Con el doctor',
      newPatient: 'Nuevo Paciente',
      patientName: 'Nombre del Paciente',
      phone: 'Teléfono',
      urgentContact: 'Contacto de Emergencia',
      convention: 'Convenio',
      insurances: 'Seguros',
      consultationPrice: 'Precio de consulta',
      reasonForVisit: 'Motivo de la visita',
      medicalHistory: 'Historial médico',
      dateOfBirth: 'Fecha de nacimiento',
      addFiles: 'Agregar archivos',
      manageFiles: 'Gestionar archivos',
      savePatient: 'Guardar paciente',
      patientSaved: 'Paciente guardado correctamente',
      patientQueue: 'Cola de pacientes',
      status: 'Estado',
      actions: 'Acciones',
      sendToDoctor: 'Enviar al doctor',
      cancelPatient: 'Cancelar',
      waiting: 'En espera',
      canceled: 'Cancelado',
      scheduleAppointment: 'Programar cita',
      appointmentDate: 'Fecha de la cita',
      appointmentTime: 'Hora de la cita',
      reason: 'Motivo',
      bookAppointment: 'Reservar cita',
      appointmentBooked: 'Cita reservada',
      communicationMode: 'Modo de comunicación',
      wifi: 'WiFi',
      doctorIP: 'IP del doctor',
      backupPath: 'Ruta de copia de seguridad',
      language: 'Idioma',
      french: 'Francés',
      english: 'Inglés',
      saveSettings: 'Guardar ajustes',
      settingsSaved: 'Ajustes guardados',
      license: 'Licencia',
      licenceKey: 'Clave de licencia',
      machineId: 'ID',
      enterLicenceKey: 'Ingrese la clave de licencia',
      enterMachineId: 'Ingrese el ID',
      messages: 'Mensajes',
      sendMessage: 'Enviar mensaje',
      newMessage: 'Nuevo mensaje recibido',
      needsAppointment: 'necesita una próxima cita por favor',
      success: 'Éxito',
      error: 'Error',
      warning: 'Advertencia',
      info: 'Información',
      save: 'Guardar',
      cancel: 'Cancelar',
      delete: 'Eliminar',
      edit: 'Editar',
      close: 'Cerrar',
      loading: 'Cargando...',
      noData: 'No hay datos',
      confirm: 'Confirmar',
      yes: 'Sí',
      no: 'No',
      copy: 'Copiar',
      notAvailable: 'No disponible',
      today: 'Hoy',
      tomorrow: 'Mañana',
      thisWeek: 'Esta semana',
      nextWeek: 'La próxima semana',
      selectFiles: 'Seleccionar archivos',
      filesSelected: 'archivos seleccionados',
      uploadFiles: 'Subir archivos',
      removeFile: 'Eliminar archivo',
      backup: 'Copia de seguridad',
      createBackup: 'Crear copia de seguridad',
      selectBackupDrive: 'Seleccionar unidad de copia',
      backupCreated: 'Copia creada con éxito',
      backupError: 'Error de copia de seguridad',
      reminder: 'Recordatorio'
    }
  },
  // Portuguese
  pt: {
    translation: {
      appName: 'Cabneo Assistant',
      appSubtitle: 'Gestão de Clínica',
      dashboard: 'Painel',
      patients: 'Pacientes',
      archives: 'Arquivos',
      queue: 'Fila',
      appointments: 'Consultas',
      settings: 'Configurações',
      logout: 'Sair',
      login: 'Entrar',
      username: 'Usuário',
      password: 'Senha',
      loginButton: 'Entrar',
      loginSuccess: 'Login bem-sucedido',
      loginError: 'Credenciais inválidas',
      logoutSuccess: 'Logout bem-sucedido',
      todayPatients: 'Pacientes de hoje',
      weekPatients: 'Pacientes da semana',
      waitingPatients: 'Em espera',
      withDoctor: 'Com o médico',
      newPatient: 'Novo Paciente',
      patientName: 'Nome do Paciente',
      phone: 'Telefone',
      urgentContact: 'Contato de Emergência',
      convention: 'Convênio',
      insurances: 'Seguros',
      consultationPrice: 'Preço da consulta',
      reasonForVisit: 'Motivo da visita',
      medicalHistory: 'Histórico médico',
      dateOfBirth: 'Data de nascimento',
      addFiles: 'Adicionar arquivos',
      manageFiles: 'Gerir arquivos',
      savePatient: 'Salvar paciente',
      patientSaved: 'Paciente salvo com sucesso',
      patientQueue: 'Fila de pacientes',
      status: 'Status',
      actions: 'Ações',
      sendToDoctor: 'Enviar ao médico',
      cancelPatient: 'Cancelar',
      waiting: 'Em espera',
      canceled: 'Cancelado',
      scheduleAppointment: 'Agendar consulta',
      appointmentDate: 'Data da consulta',
      appointmentTime: 'Hora da consulta',
      reason: 'Motivo',
      bookAppointment: 'Marcar consulta',
      appointmentBooked: 'Consulta marcada',
      communicationMode: 'Modo de comunicação',
      wifi: 'WiFi',
      doctorIP: 'IP do médico',
      backupPath: 'Caminho do backup',
      language: 'Idioma',
      french: 'Francês',
      english: 'Inglês',
      saveSettings: 'Salvar configurações',
      settingsSaved: 'Configurações salvas',
      license: 'Licença',
      licenceKey: 'Chave de licença',
      machineId: 'ID',
      enterLicenceKey: 'Digite a chave de licença',
      enterMachineId: 'Digite o ID',
      messages: 'Mensagens',
      sendMessage: 'Enviar mensagem',
      newMessage: 'Nova mensagem recebida',
      needsAppointment: 'precisa de uma próxima consulta, por favor',
      success: 'Sucesso',
      error: 'Erro',
      warning: 'Aviso',
      info: 'Informação',
      save: 'Salvar',
      cancel: 'Cancelar',
      delete: 'Excluir',
      edit: 'Editar',
      close: 'Fechar',
      loading: 'Carregando...',
      noData: 'Sem dados',
      confirm: 'Confirmar',
      yes: 'Sim',
      no: 'Não',
      copy: 'Copiar',
      notAvailable: 'Não disponível',
      today: 'Hoje',
      tomorrow: 'Amanhã',
      thisWeek: 'Esta semana',
      nextWeek: 'Próxima semana',
      selectFiles: 'Selecionar arquivos',
      filesSelected: 'arquivos selecionados',
      uploadFiles: 'Enviar arquivos',
      removeFile: 'Remover arquivo',
      backup: 'Backup',
      createBackup: 'Criar backup',
      selectBackupDrive: 'Selecionar unidade de backup',
      backupCreated: 'Backup criado com sucesso',
      backupError: 'Erro de backup',
      reminder: 'Lembrete'
    }
  }
};

i18n
  .use(initReactI18next)
  .init({
    resources,
    lng: 'fr', // default language
    fallbackLng: ['en', 'fr'],
    interpolation: {
      escapeValue: false
    }
  });

// Ensure regional Arabic variants inherit Arabic strings
try {
  const arBase = resources?.ar?.translation || {};
  if (Object.keys(arBase).length > 0) {
    i18n.addResourceBundle('ar-EG', 'translation', arBase, true, true);
    i18n.addResourceBundle('ar-MR', 'translation', arBase, true, true);
  }
} catch (e) {
  // no-op if i18n not ready
}

export default i18n; 